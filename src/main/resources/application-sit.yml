server:
  context-path: /app
  port: 12090

spring:
  freemarker:
    # 设置模板后缀名
    suffix: .ftl
    # 设置文档类型
    content-type: text/html
    # 设置页面编码格式
    charset: UTF-8
    # 设置页面缓存
    cache: false
    # 设置ftl文件路径
    template-loader-path:
      - classpath:/templates
    # 设置静态文件路径，js,css等
    mvc:
      static-path-pattern: /static/**
  datasource:
    dynamic:
      # druid连接池设置
      druid:
        #     配置初始化大小、最小、最大线程数
        initialSize: 5
        minIdle: 5
        #     CPU核数+1，也可以大些但不要超过20，数据库加锁时连接过多性能下降
        maxActive: 20
        #     最大等待时间，内网：800，外网：1200（三次握手1s）
        maxWait: 60000
        timeBetweenEvictionRunsMillis: 60000
        #     配置一个连接在池中最大空间时间，单位是毫秒
        minEvictableIdleTimeMillis: 300000
        validationQuery: SELECT 1
        testWhileIdle: true
        #     设置从连接池获取连接时是否检查连接有效性，true检查，false不检查
        testOnBorrow: true
        #     设置从连接池归还连接时是否检查连接有效性，true检查，false不检查
        testOnReturn: true
        #     可以支持PSCache（提升写入、查询效率）
        poolPreparedStatements: true
        #   配置监控统计拦截的filters，去掉后监控界面sql无法统计，'wall'用于防火墙
        filters: stat
        #     保持长连接
        keepAlive: true
        maxPoolPreparedStatementPerConnectionSize: 20
        useGlobalDataSourceStat: true
        connectionProperties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500# druid连接池设置
      primary: master #设置默认的数据源或者数据源组,默认值即为master
      strict: false #严格匹配数据源,默认false. true未匹配到指定数据源时抛异常,false使用默认数据源
      datasource:
        master:
          type: com.alibaba.druid.pool.DruidDataSource
          url: jdbc:mysql://localhost:5306/promotion?autoReconnect=true&useUnicode=true&characterEncoding=utf8&allowMultiQueries=true&serverTimezone=UTC&useSSL=false&connectTimeout=1000&socketTimeout=3000
          username: root
          password: root
          driver-class-name: com.mysql.cj.jdbc.Driver

        custer:
          type: com.alibaba.druid.pool.DruidDataSource
          url: jdbc:mysql://localhost:5306/dcp_framework?autoReconnect=true&useUnicode=true&characterEncoding=utf8&allowMultiQueries=true&serverTimezone=UTC&useSSL=false&connectTimeout=1000&socketTimeout=3000
          username: root
          password: root
          driver-class-name: com.mysql.cj.jdbc.Driver


  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+0
  cache:
    type: redis
  redis:
    host: 127.0.0.1
    port: 6379
    database: 0
    # 客户端超时时间单位是毫秒
    timeout: 60s
    password:
    jedis:
      pool:
        maxActive: 10
        maxIdle: 10
        minIdle: 5
        #连接池最大等行时间 -1没有限制
        maxWait: 60s
        # 逐出扫描的时间间隔
        timeBetweenEvictionRuns: 60s
logging:
  config: classpath:logback-spring.xml
  level:
    #日志级别
    root: info
    com.org.dream.dao: debug
  file:
    logName: app-service-log
    config-max-history: 10
    config-max-size: 10MB

spring.main.allow-bean-definition-overriding: true

mybatis-plus:
  #MyBatis Mapper 所对应的 XML 文件位置，如果您在 Mapper 中有自定义方法（XML 中有自定义实现），需要进行该配置，告诉 Mapper 所对应的 XML 文件位置。
  #mapper-locations: classpath*:mapper/**/*.xml
  mapper-locations: classpath:/mapper/*.xml
  #单独的 MyBatis 配置，请将其路径配置到 configLocation 中  注意 configuration与config-location不能一起用
  #config-location: classpath*:mybatis-config.xml
  # 实体对象的扫描包,MyBaits 别名包扫描路径，通过该属性可以给包中的类注册别名
  type-aliases-package: com.org.dream.domain.entity
  #枚举对象的扫描包,等价：default-enum-type-handler: com.baomidou.mybatisplus.extension.handlers.MybatisEnumTypeHandler
  type-enums-package: com.org.dream.domain.enums
  configuration:
    # 禁用缓存
    cache-enabled: false
    # call-setters-on-nulls: true
    # jdbc-type-for-null: 'null'
    #开启映射时驼峰命名, 开启后不需要写字段映射@TableField
    map-underscore-to-camel-case: true
    #开启控制台 SQL 日志打印
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    auto-mapping-behavior: full
    default-enum-type-handler: com.baomidou.mybatisplus.extension.handlers.MybatisEnumTypeHandler
  global-config:
    db-config:
      #全局默认主键类型，设置后，即可省略实体对象中的@TableId(type = IdType.AUTO)配置
      id-type: auto
      #表名前缀，全局配置后可省略 @TableName()配置。默认值：null
      # table-prefix: tb_
      # !=null and !='' 才更新, 相反可使用@TableField(updateStrategy = FieldStrategy.IGNORED)
      update-strategy: not_empty
      # !=null and !='' 才插入, 相反可使用@TableField(updateStrategy = FieldStrategy.IGNORED)
      insert-strategy: not_empty
      # 逻辑删除值
      #logic-delete-value: 0
      #logic-not-delete-value: 1
    banner: true

pagehelper:
  helper-dialect: mysql
  reasonable: true
  support-methods-arguments: true